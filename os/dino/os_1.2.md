## 1. 서론

### 시스템 구조

#### 멀티 프로세서 시스템
- Multiprocessor: 여러 cpu를 가지고 있는 시스템, 비대칭적 다중처리와 대칭적 다중처리가 있다.
- 비대칭적 다중처리: 하나의 주 프로세서가 시스템을 제어하고 다른 프로세서들은 주 프로세서의 명령을 실행하거나 미리 정의된 태스크를 실행한다.
- 대칭적 다중처리: 일반적인 방법이며, 각 처리기가 OS내의 모든 작업을 실행한다. 각 프로세서는 자신 고유의 레지스터 집합과 지역적 캐시를 가지고 있다.

#### 클러스터 시스템
- 멀티프로세서와 같이 여러 cpu들이 함께 계산 작업을 한다. 그러나 클러스터는 둘 이상의 독자적 시스템 또는 노드들을 결합하여 구성한다. 대부분 네트워크를 통하여 통신한다.
- 클러스터링은 높은 가용성을 제공하기 위해서 사용한다. 하나 이상의 시스템이 고장나더라도 서비스는 계속 제공하기 때문이다.
- 비대칭적 클러스터: 다른 컴퓨터들이 실행되는 동안, 한 컴퓨터는 대기 상태를 두어 감시하는 역할을 한다.
- 대칭형 클러스터: 각 컴퓨터들이 실행되면서 다른 컴퓨터들을 감시하는 역할도 한다.
- 클러스터의 이점을 활용하려면 병렬프로그래밍이 필요하다.

### 운영체제 구조
- 다중 프로그래밍: CPU가 항상 하나의 작업을 실행할 수 있게 구성함으로써 CPU의 이용률을 증가시킨다.
- OS는 여러 작업들을 메모리에 두지만, 메모리의 사이즈로 인해 일부는 디스크 상의 작업 풀에 둔다.
- OS는 메모리에 있는 작업들중 하나를 선택해 실행한다.
- CPU의 작업중 인터럽트가 발생시에는 그 작업을 다른 작업으로 전환한다. 즉, CPU는 작업이 있는 한은 쉬지 않고 작업을 한다.
- 시분할(멀티태스킹) 시스템: CPU가 다수의 적업들을 서로 교대로 실행하지만, 매우 빈번하게 교대가 일어나기 때문에 사용자 입장에서는 동시에 여러 프로그램을 사용하는것 처럼 느낀다.
- 프로세스: 메모리에 적재되어 있고, 실행되고 있는 프로그램
- 작업 스케줄링: 메모리에 모든 작업을 올려둘수 없을때, 메모리에 올려둘 작업을 선택하는 방법
- CPU 스케줄링: 여러 개의 작업중에서 CPU가 실행할 작업을 선택하는 방법
- 가상메모리: 주 메모리를 크고 균등한 저장장치의 배열로 추상화하여 논리 메모리를 물리 메모리로부터 분리 시킨다.

### 운영체제 동작
- 트랩: 오류 혹은 애플리케이션의 OS 서비스 실행 요청에 의해 유발되는 인터럽트
- 인터럽트 처리 절차: 하던일 중단 -> 인터럽트 종류 확인 -> 인터럽트의 서비스 루틴으로 제어를 옮긴후 실행 완료 -> 하던일 재개
- 이중 동작 모드: 사용자 모드와 커널모드로 나뉘며, 모드비트로 구분한다. (커널 0, 사용자 1) 이 모드의 예로써, 사용자가 운영체제의 서비스를 사용하려고 할때 사용자 모드에서 커널모드로 바뀌어 서비스를 실행하고 사용자로 복귀한다. 
- 이러한 구분을 하는 것은 운영체제 코드의 실행과 사용자 정의 코드를 구분하기 위함이다. 그러므로써, 사용자가 잘못된 명령을 통해 시스템에 악영향을 주는 것을 막는다.
- 시스템 부트시 하드웨어는 커널 모드에서 시작한다. 운영체제가 적재되고, 사용자 모드에서 사용자 프로세스가 시작된다. 인터럽트가 발생할 때마다 하드웨어는 사용자 모드에서 커널모드로 변경한다. 즉, 운영체제가 컴퓨터의 제어를 얻을 때마다 커널모드에 있게 된다.
- 시스템 호출: OS에 의해 실행될 동작을 사용자 프로세스가 요청할 수 있게 한다.
- 시스템 호출이 실행될 때, 시스템 호출은 하드웨어에 의해 하나의 소프트웨어 인터럽트로 취급된다. 제어가 인터럽트 벡터를 통해 OS내의 서비스 루틴으로 전달되고, 모드 비트가 커널 모드로 설정된다.
- 타이머: 무한 루프와 같은 프로세스, 시스템 오류를 해결하기 위한 방안
- 타이머가 인터럽트를 발생시키면 제어는 자동적으로 OS로 넘어가고 이것을 처리한다. 타이머의 동작을 변경하는 명령은 특권 명령이다.

### 프로세스 관리
- OS는 프로세스가 끝나면 재사용할 수 있는 자원을 회수한다.
- 프로세스는 다음 실행할 명령을 지정하는 프로그램 카운터를 가진 능동적인 개체다.
- 다중 스레드 프로세스는 복수개의 프로그램 카운터를 가지고 있으며, 이 카운터들은 각 스레드가 실행할 다음 명령어를 가리키게 된다.
- 모든 프로세스는 하나의 CPU 상에서 멀티플렉싱함으로써 잠재적으로 병행 실행될수 있다.
- OS의 프로세스 관련 책임: CPU에게 프로세스와 스레드 스케줄링, 사용자 프로세스와 시스템 프로세스의 생성과 제거, 프로세스의 일시 중지와 재실행, 프로세스 동기화를 위한 기법 제공, 프로세스 통신을 위한 기법 제공

### 메모리 관리
- 폰노이만 방식 메모리: CPU가 instruction 사이클동안 주 메모리로부터 명령어를 읽고,  data 사이클동안 주 메모리로부터 데이터를 읽고 쓴다.
- 프로그램이 실행되기 위해서는 반드시 절대주소로 맵핑되고 메모리에 적재되어야 한다.

### 저장장치
-  OS는 저장장치의 물리적 특성을 추상화하여 논리적인 저장단위인 파일을 정의한다.
-  OS의 디스크 관리를 위한 기능: 자유 공간 관리, 저장장소 할당, 디스크 스케줄링
-  캐싱: 저장장치 간의 속도차이를 극복하기 위한 보조 장치(캐시)에 정보를 저장하는 것, 이곳에 저장된 정보들은 다시 사용될 확률이 높은 것들이다. 레지스터 또한 캐시로 볼수 있다.

### 보안
- Protection: 컴퓨터 시스템이 정의한 자원에 대해 프로그램, 프로세스, 사용자들의 접근을 제어하는 기법
- Security: 소프트웨어에 대한 내부공격, 외부공격을 방어
