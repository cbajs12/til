## mapreduce-join
### 맵 사이드 조인
- 매퍼가 단독으로 조인을 수행하는 방법
- 조인을 걸 데이터를 분산 캐시에 저장한 후, 매퍼가 실행될때 분산 캐시에 저장된 데이터를 조회하는 방식으로 조인을 처리한다.

#### 분산 캐시
- 필요한 데이터 파일을 데이터 노드의 로컬 디스크에 복사하고, 태스크가 복사된 파일을 사용하는 방식
- 하둡은 수 KB 이상의 파일을 공통으로 사용할 수 있게 분산 캐시를 제공한다.
- 분산 캐시 작동 방식

> 잡을 실행하면 사용자가 캐시로 설정한 파일을 HDFS로 복사

> 태스크트래커는 태스크를 실행하기 전에 HDFS에 저장된 캐시 파일을 로컬 파일 시스템으로 복사, 이때 로컬 파일 시스템은 태스크가 실행될 노드의 로컬 파일 시스템이다.

> 태스크는 로컬 파일 시스템에 복사된 파일을 조회한다.

- 캐시 파일은 더 이상 참조하는 태스크가 없으면 삭제된다. 하둡 설정 파일에서 설정한 캐시 크기를 초과해도 파일이 삭제된다.
- 조인할 데이터의 규모가 클 경우 리듀스 사이드 방식으로 조인을 해야한다. 분산 캐시가 수용할 수 있는 데이터 크기에 한계가 있기 때문

### 리듀스 사이드 조인
- 리듀서가 단독으로 조인을 처리하지만 매퍼도 함 께 구현해야 한다.
- 매퍼는 조인할 데이터를 입력받아 입력 데이터의 태크, 조인키, 레코드를 출력한다.
- 태그는 RDBMS에서 조인을 걸 때 사용하는 테이블 별칭이다.
- 리듀서는 매퍼의 출력 데이터에서 태그를 분류해서 조인을 수행한다. 태그 외에도 잡에 여러 입력 데이터를 설정할 수 있는 `multipleInputs`를 적용하고, 데이터의 순서를 보장하기 위해 보조 정렬도 적용해야한다.

#### 복합키 구현
- 리듀스 사이드 조인의 복합키는 조인키와 태그의 조합으로 구성

### 세미 조인
- 맵 사이드와 리듀스 사이드 방법의 조합하여 사용하는 방법
- 예로 3개의 데이터를 대상으로 조인할 경우 두 개의 데이터는 리듀스로 세 번째 데이터는 분산 캐시에 등록해 매퍼에서 참조하도록 하는 방식으로 구현 가능
