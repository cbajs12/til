## 3. basic of language

### 문법
- 자바스크립트는 어디서든 대소문자를 구별한다. 함수명, 연산자, 변수등등.. 모든 곳에 적용된다.
- 자바스크립트는 작명시 관습적으로 카멜 케이스를 쓴다.
- 자바스크립트의 주석은 C 언어 스타일로 표기한다.
- 스트릭트 모드 : 기존과는 다른 방식으로 자바스크립트를 파싱하고 실행하라고 지시하는 것, 스트릭트 모드를 적용하려면 `"use strict";`를 스크립트 또는 함수 맨 위에 추가한다. 스트릭트 모드를 지원하는 엔진은 스트릭트 모드로 전환한다.
- 자바스크립트의 각 문장은 세미콜론으로 종료한다. 없어도 작동을 하지만 권장하지 않는다.
- 변수는 초기화하지 않으면 undefined가 할당된다. 한번 변수에 할당된 데이터의 자료형은 바꾸지 않는 것이 좋다. 
- 스트릭트 모드에서 변수를 선언하지 않고 값을 할당하려면 ReferenceError를 반환한다.
- 한 문장에 `,`로 여러개 변수를 선언할 수 있다. `var a = 10, b = 20`

### 데이터 타입
- 자바스크립트의 데이터 타입은 Undefined, Null, Boolean, 숫자, 문자열, 객체(이름-값 쌍의 순서 없는 목록)가 존재한다.
- 모든 데이터는 여섯 가지 타입 중 하나에 속한다. 자바스크립트는 동적 데이터 타입이므로 한가지 데이터 타입이 여러 특성을 가질 수 있다.

#### typeof
- 자바스크립트에서 변수의 데이터 타입을 알아낼 때 사용하는 연산자이다.
- undefined, string, number, object(객체 및 null), function, boolean을 표시한다.
- typeof 연산자는 함수가 아니라서 괄호를 써도 되고 안써도 된다.

#### undefined
- 초기화하지 않은 변수에 자동으로 할당된다.
- 정의되지 않은 변수를 typeof로 확인하면 undefined로 나온다.
- 명시적으로 할당하는 것은 권장하지 않는다.

#### null
- 빈 객체를 가리키는 포인터이다.
- typeof로 null을 확이하면 object를 반환한다.
- 변수를 정의할 떄 해당 변수가 객체를 가리키게 할 생각이면 null로 초기화한다.

#### boolean
- 대소문자를 구분하므로 true, false만 불리언 타입이다.
- 값을 불리언으로 변환하려면 Booelean() 함수를 호출한다.
- 빈 문자열, 0, NaN, null, undefined는 false 취급한다. 나머지는 true 취급한다.

#### 숫자
- 8진수 리터럴은 첫 번쨰 숫자가 반드시 0이어야하며 그 뒤에 0부터 7까지의 숫자를 쓴다. 7이 넘어가는 숫자가 있으면, 10진법으로 취급한다. 스트릭트 모드에서는 8진법 리터럴을 허용하지 않으며 문법 에러를 반환한다.
- 16진수 리터럴은 첫 두 문제에 반드시 0x를 쓰고 16진수 숫자를 쓴다. 대소문자는 가리지 않는다. (0xA, 0xlf)
- 부동소수점 숫자를 표현하려면 반드시 소수점이 있어야 한다. 소수점 앞에 정수를 안써도 되지만 쓰지 않는 것이 좋다.
- 메모리를 줄이기 위하여 소수점 뒤에 숫자가 없다면 정수로 변환된다.
- 대단히 크거나 작은 부동소수점 숫자를 표현할 때는 'e-표기법(e 뒤에 숫자만큼 10을 e 앞의 숫자에 곱한다, 소수점은 '-'을 붙여서 쓴다)'을 쓴다. e는 대소문자를 가리지 않는다.
- 부동소수점 숫자는 소수점 아래 17자리 까지 정확하다. 그러나 반올림 에러 때문에 부동소수점 비교시에 에러가 있을 수 있다.
- 최솟값은 Number 객체에 `MIN_VALUE에` 저장되고, 최댓값은 `MAX_VALUE`에 저장된다. 범위를 벗어나는 값은 Infinity로 변한되고 음수는 -Infinity가 된다. 최솟값과 최댓값 사이에 있는지 확인하려면 `isFinite()`를 쓰면 된다(사이에 있으면 true).
- NaN은 숫자를 반환할 것으로 의도한 조작이 실패했을 떄 반환하는 값이다. 어떤 숫자를 0으로 나누려 하면 NaN을 반환하고 나머지 처리는 계속된다.
- NaN이 포함된 조작은 항상 NaN을 반환한다.
- NaN은 어떤 값과도 일치하지 않으며 NaN 끼리도 일치하지 않는다 `(NaN == NaN # false)` 이를 위하여 isNaN()에 숫자로 변환할 수 없는 값을 넘기면 true를 반환한다.
- 숫자가 아닌 값을 숫자로 바꾸는 함수는 Number(), parseInt(), parseFloat() 이다.
- Number() : 어떤 데이터 타입에든 쓸 수 있으며 다른 두 함수는 문자열을 숫자로 바꾸는 용도로 만들어졌다. 매개변수로 불리언 값이면 true(1), false(0)으로 바꾼다. 숫자로 넘기면 그대로 반환한다. null을 넘기면 0을 반환, undefined를 넘기면 NaN 반환, 문자열이라면 첫 숫자 앞의 0은 모두 머리고 나머지를 10진수로 변환한다. 기호가 있다면 그대로 보존한다. 부동소수점이라면 부동소수점을 반환한다. 16진수 형식이면 그에 해당하는 정수를 반환한다. 빈 문자열은 0을 반환한다. 그 외의 것은 NaN을 반환한다. 객체를 넘기면 `valueOf()` 호출하는데 결과가 NaN이면 `toString()` 호출한뒤 문자열로 변환한다.
- parseInt() : 리딩 스페이스를 전부 버리고 첫 문자가 숫자나 +/-가 아니라면 NaN을 반환한다. 첫 문자부터 숫자가 아닌 곳까지 변환을 진행한다(`1234blue -> 1234`). 부동소수점 이하는 버리고 8, 16진수들은 10진수에 맞게 변형된다. 매개변수로 진법을 정할 수 있다.
- parseFloat() : 잘못된 부동소수점 숫자를 만날 떄까지 파싱을 계속한다. 16진수를 넘기면 항상 0을 반환한다 왜냐하면 10진수 기준으로 파싱하기 떄문이다. 진법 매개변수를 넘겨도 무시한다. 소수점이하가 없거나 0만 있는 경우 정수로 반환한다.

#### 문자열
- 문자열 데이터 타입은 16비트 유니코드 문자의 연속이다. " ", ' ' 모두 구별 없이 사용 가능하다.
- 16진수는 '\x~'로 시작하고, 유니코드는 '\u~'로 시작한다.
- 자바스크립트는 문자열은 불변이다. 값을 바꿀수 없다. 변수에 저장한 문자열을 바꾸려면 기존 문자열을 파괴하고 새 문자열을 채워야한다.
- 문자열을 바꿀때는 `toString()`을 사용한다. 이 메서드는 숫자, 불리언, 객체, 문자열에 존재한다. 숫자는 이 메서드의 매개변수로 진법을 넣을 수 있다.
- toString() 메서드를 호출할 값이 null이나 undefined일 가능성이 있다면 값 타입에 항상 문자열을 반환하는 String()을 써도 된다. 이 함수는 null이면 null을, undefined라면 undefined를 반환한다.

#### 객체
- 데이터와 기능의 집합이다. 객체는 Object()로 인스턴스를 만들고 프로퍼티나 메서드를 추가하여 객체를 만들 수 있다.
- 매개변수가 없으면 괄호를 생략해도 되지만 권장하지 않는다.
- Object 타입은 모든 객체의 원형이다.
- hasOwnProerty(propertyName) : 해당 프로퍼티가 객체 인스턴스에 고유하며 프로트타입에서 상속하지 않았음을 확인한다. 프로퍼티 이름은 반드시 문자열이어야 한다.
- isPrototypeOf(object) : 해당 객체가 다른 객체의 프로토타입인지 확인한다.
- propertyIsEnumerable(propertyName) : 해당 프로퍼티를 for-in 문에서 나열할 수 있는지 확인한다.
- toLocaleString() : 객체를 지역에 맞게 표현한 문자열을 반환한다.
- toString() : 객체를 문자열로 변환해 반환한다.
- valueOf() : 객체를 나태내는 문자열이나 숫자, 불리언을 반환한다.

### 연산자

#### 증감연산자
- 정수에만 쓸수 있는 것이 아니며 문자열이나 불리언, 부동소수점 숫자, 객체에도 사용할 수 있다.
- 유효한 숫자 형태의 문자열에 적용하면 해당 문자열을 숫자로 바꾼 후 증감한다. 타입이 숫자로 변경된다. 유효한 숫자가 아니라면 NaN이 저장된다.
- false라면 해당 값을 0으로 바꾼후 증감한다. true라면 1로 바꾼 후 증감한다. 숫자로 변경된다.
- 부동소수점은 그대로 증감한다.
- 객체에 적용하면 해당 객체의 valueOf()를 먼저 호출해서 증감을 적용할 값을 얻는다. 결과가 NaN이라면 toString() 호출한 후 다시 적용한다. 숫자로 변경된다.
- '+', '-'를 적용하면 숫자로 형 변환되며, 객체는 증감 연산자와 같이 작동한다. 특히, '-'는 부호를 바꾼다.

#### 비트연산자
- 자바스크립트는 모든 숫자를 64비트 형식으로 저장하지만 실제로 조작시에는 값을 32비트 정수로 변환하여 비트 연산자를 적용후 결과를 다시 64비트로 바꾼다.
- 음수는 2의 보수 형식으로 표현한다. 그러나 음수를 2진 문자열로 얻으려고 하면 절대 값의 2진 표현에 마이너스를 붙인 값을 반환한다.
- 비트 연산에서는 NaN과 Infinity를 0과 같이 취급한다. 숫자가 아닌 값에 비트 연산자를 적용하면 값에 Number()를 적용한후 숫자로 바꿔 비트 연산을 적용한다.
- 왼쪽 시프트(<<)는 피연산자의 부호를 유지한다. 부호 있는 오른쪽 시프트(>>)는 부호비트 오른쪽부터 빈 비트가 생긴다. 부호 없는 오른쪽 시프트(>>>)는 맨 오르쪽부터 빈비트를 채우고 빈비트는 부호와 관계없이 0으로 채워진다.

#### 불리언 연산자
- 논리 NOT(!)은 모든 자료형에 적용할 수 있다. 이 연산자는 데이터 타입에 관계없이 항상 불리언 값을 반환한다. 피연산자를 불리언 값으로 변환한 다음 그 결과를 부정한다.
- 논리 AND(&&)는 불리언이 아니어도 사용할 수 있다. 첫 번째 피연산자가 객체면, 항상 두번째 피연사자를 반환한다. 두 번째 피연산자가 객체라면, 첫 번째 피연산자를 true로 평가할 수 있을 때만 두 번째 피연산자를 반환한다. 두 피연산자 모두 객체라면 두 번째 피연산자를 반환한다. 둘중 하나라도 null이면 null, NaN이면 NaN, undefined라면 undefined를 반환한다. 단축평가가 적용된다.
- 논리 OR(||)는 불리언이 아니어도 사용할 수 있다. 첫번쨰가 객체면 첫 번째를 반환한다. 첫번째가 false면, 두 번쨰를 반환한다. 두 피연산자가 모두 객체면, 첫 번째를 반환한다. 둘중 하나라도 null이면 null, NaN이면 NaN, undefined라면 undefined를 반환한다. 단축평가가 적용된다.

#### 곱셈 관련 연산자
- 숫자가 아닌 값에 적용할 떄는 자동으로 피연산자의 타입을 바꾼다.
- 곱셈의 결과가 연산 범위를 넘으면 (-)Infinity를 반환한다. 피연산자 중 하나가 NaN이면 NaN이 된다. Infinity * 0은 NaN이다. Infinity * 숫자면 (-)Infinity 이다. 피연산자 중 하나가 숫자가 아니면 Number() 적용하고 숫자로 변환한다.
- 나눗셈의 결과를 범위를 넘으면 (-)Infinity 반환한다. 피연산자중 하나가 NaN이면 NaN이다. Infinity / Infinity 은 NaN이고 0 / 0도 NaN이다. 0이 아닌 유한한 숫자를 0으로 나눈 결과는 (-)Infinity이다. Infinity를 숫자로 나눈 결과는 (-)Infinity이다. 피연산자 중 하나가 숫자가 아니면 Number() 적용하고 숫자로 변환한다.
- 나머지 좌항이 무한한 숫자고 우항이 유한 숫자이면 결과는 NaN이다. 좌항이 유현 숫자이고 우항이 0이면 NaN이다. Infinity / Infinity 은 NaN이다. 좌항이 유한 숫자이고 우항이 무한 숫자이면 결과는 좌항이다. 좌항이 0이고 우항이 0이 아닌 수자라면 결과는 0이다. 피연산자 중 하나가 숫자가 아니면 Number() 적용하고 숫자로 변환한다.

#### 덧셈 관련 연산자
- 덧셈에서 -Infinity를 Infinity에 더한 결과는 Infinity이다. Infinity를 -Infinity에 더한 결과는 NaN이다. -0을 +0에 더한 결과는 +0이다. -0을 -0에 더한 결과는 -0이다. 피연산자 중 하나가 문자열이라면 다른 피연산자를 문자열로 변환하고 합친다. undefined / null에 대해서는 String()을 호출한다. 숫자 덧셈을 적용하고 문자열과 합치려면 숫자 계산을 괄호를 쳐서 우선 계산하도록 한다 (`"result =" + (num1 + num2)"`).
- 뺄셈에서 피연산자 중 하나가 NaN이면 결과도 NaN이다. Infinity를 Infinity에서 빼면 NaN이다. -Infinity를 -Infinity에서 뺀 결과는 NaN이다. (-)Infinity를 (-)Infinity에서 뺀 결과는 Infinity이다. -0에서 +0을 뺀 결과는 -0이다. -0을 -0에서 뺀 결과는 +0이다. 피연산자가 불리언, null, undefined라면 Number() 호출해 숫자로 변환 후 뺄셈한다. 변환 결과가 NaN이면 뺄셈 결과도 NaN이다. 피연산자 중 하나라도 객체라면 valueOf() 호출해 숫자형을 얻는다. 그 값이 NaN이면 NaN이다. 객체에 vauleOf()가 없으면 toString()을 호출하고 그 결과 문자열을 숫자로 변환한다.

#### 관계 연산자
- 피연산자가 모두 문자열이면 문자열에서 서로 대응하는 문자의 문자 코드를 비교한다.
- 피연산자 중 하나가 숫자라면 다른 피연산자를 숫자로 변환한 후 비교한다.
- 피연산자 중 하나가 객체라면 valueOf() 호출하고 그 결과를 비교한다. 없으면 toString()을 호출하고 그 결과를 비교한다.
- 문자 코드를 비교할 때, 모두 소문자로 변경하여 비교하는 것이 좋다.

#### 동일 연산자
- 동일, 비동일 연산자는 비교하기 전에 타입을 변환하며 일치와 불일치 연산자는 타입 변환 없이 비교한다.
- 동일(==), 비동일(!=)은 비교하기 전에 변환한다. 피연산자가 불리언이면 숫자로 변환한다. 피연산자 하나가 문자열이고 다른 하나가 숫자라면 문자열을 숫자로 바꿀 수 있는지 시도한다. 피연산자 중 하나가 객체이고 다른 하나가 아니면 객체의 valueOf() 호출해 원시 값으로 바꾼 후 이전 규칙을 따른다. null과 undefined는 동일하다, 동일 여부를 평가할 떄는 null과 undefined를 결코 다른 값으로 변환하지 않는다. 피연산자 중 하나가 NaN이라면 동일 연산자는 false를 반환하며 비동일 연산자는 true를 반환한다. 두 피연산자가 모두 객체라면 같은 객체인지 비교한다.
- 일치(===), 비일치(!==)는 변환하지 않고 그대로 비교한다. 일치 연산자는 타입을 변환하지 않아도 같을 떄만 true를 반환한다. 불일치 연산자는 피연산자를 변환하지 않은 상태에서 일치하지 않을 때에만 true를 반환한다.

#### 할당 연산자
- `+=, -=, *=, /=, %=, <<= >>=, >>>=`가 있다.

### 문장

#### for-in
- 객체의 프로퍼티를 나열하는 데 사용한다.
- 자바스크립트에서 객체 프로퍼티에 순서가 없으므로 어떤 순서로 프로퍼티 이름을 반환할지 예측할 수 없다.
- 객체의 변수가 null, undefined일 경우 과거 자바스크립트는 에러를 낸다.

#### 문장 레이블
- 문장에 레이블을 붙였다가 나중에 사용할 수 있다.
- break, continue 문과 같이 사용할 수 있다.
```javascript
start: 
for (var i=0; i<count; i++){
    alert(i);
    break start;
}
```

#### with
- 코드의 스코프를 특정 객체에 고정한다.
- 지역변수에서 찾을 수 없다면, with 객체의 프로퍼티에서 검색한다.
- 스트릭트 모드에서는 with를 금지한다.
```javascript
with(location){
    var qs = search.substring(1); // location의 프로퍼티
    var url = href; // location의 프로퍼티
}
```

#### switch
- 모든 데이터 타입에서 동작하므로 문자열과 객체에서도 사용할 수 있다.
- 값은 상수일 필요가 없으며 변수나 표현식도 쓸 수 있다.

### 함수
- `function`을 사용하여 선언한다.
- 함수는 꼭 값을 반환하지 않아도 된다.
- return문만을 사용하게 되면 undefined을 반환한다.
- 스트릭 모드에서는 함수 이름과 매개변수에 eval, arguments를 사용할 수 없다. 또한, 서로 다른 매개변수에 같은 이름을 쓸 수 없다.
- 자바스크립트의 함수는 오버로딩이 없다.
- 함수의 이름이 같으면, 마지막 선언된 함수를 채택한다.
- 매개변수의 타입과 숫자를 체크해서 그에 맞게 반응하는 방법으로 오버로딩을 흉내낼 수 있다.

#### 매개변수
- 자바스크립트의 매개변수는 내부적으로 배열로 되어있기 때문에 함수의 매개변수가 선언되어 있어도 매개변수를 자유롭게 보낼 수 있다.
- 함수는 arguments 객체를 가지는데 이것으로 매개변수를 배열로 접근할 수 있다.
- 자바스크립트는 이름 붙은 매개변수의 유효성 검사를 하지 않는다.
- 할당 받지 않은 매개변수는 undefined가 할당된다.
- 이름 붙은 매개변수와 arguments 객체는 다른 메모리를 사용한다.